import{r as a,S as L,j as e,Q as W,t as T}from"./app-BUwg7w8z.js";import{M as K}from"./MainLayout-CoVxxap5.js";import{P}from"./Pagination-DE325Smp.js";function $(r,t,u,o){var x=this,n=a.useRef(null),d=a.useRef(0),m=a.useRef(0),s=a.useRef(null),i=a.useRef([]),f=a.useRef(),h=a.useRef(),F=a.useRef(r),p=a.useRef(!0);F.current=r;var b=typeof window<"u",j=!t&&t!==0&&b;if(typeof r!="function")throw new TypeError("Expected a function");t=+t||0;var N=!!(u=u||{}).leading,I=!("trailing"in u)||!!u.trailing,g="maxWait"in u,A="debounceOnServer"in u&&!!u.debounceOnServer,k=g?Math.max(+u.maxWait||0,t):null;a.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var C=a.useMemo(function(){var S=function(c){var l=i.current,w=f.current;return i.current=f.current=null,d.current=c,m.current=m.current||c,h.current=F.current.apply(w,l)},v=function(c,l){j&&cancelAnimationFrame(s.current),s.current=j?requestAnimationFrame(c):setTimeout(c,l)},B=function(c){if(!p.current)return!1;var l=c-n.current;return!n.current||l>=t||l<0||g&&c-d.current>=k},E=function(c){return s.current=null,I&&i.current?S(c):(i.current=f.current=null,h.current)},R=function c(){var l=Date.now();if(N&&m.current===d.current&&M(),B(l))return E(l);if(p.current){var w=t-(l-n.current),D=g?Math.min(w,k-(l-d.current)):w;v(c,D)}},M=function(){o&&o({})},y=function(){if(b||A){var c=Date.now(),l=B(c);if(i.current=[].slice.call(arguments),f.current=x,n.current=c,l){if(!s.current&&p.current)return d.current=n.current,v(R,t),N?S(n.current):h.current;if(g)return v(R,t),S(n.current)}return s.current||v(R,t),h.current}};return y.cancel=function(){s.current&&(j?cancelAnimationFrame(s.current):clearTimeout(s.current)),d.current=0,i.current=n.current=f.current=s.current=null},y.isPending=function(){return!!s.current},y.flush=function(){return s.current?E(Date.now()):h.current},y},[N,g,t,k,I,j,b,A,o]);return C}function q(r,t){return r===t}function O(r,t,u){var o=q,x=a.useRef(r),n=a.useState({})[1],d=$(a.useCallback(function(s){x.current=s,n({})},[n]),t,u,n),m=a.useRef(r);return o(m.current,r)||(d(r),m.current=r),[x.current,d]}const Q=r=>{const t={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString("id-ID",t)},U=({image_path:r,category:t,published_at:u,title:o,excerpt:x,slug:n})=>{const d=r?`/storage/${r}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(o)}&background=EBF4FF&color=1E40AF&size=400`;return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden flex flex-col transition-transform duration-300 hover:-translate-y-2",children:[e.jsx(T,{href:route("news.show",n),children:e.jsx("img",{src:d,alt:`Gambar untuk ${o}`,className:"w-full h-48 object-cover"})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 mb-2",children:[e.jsx("span",{className:"text-white bg-secondary px-4 text-xs py-1 rounded-full",children:t}),e.jsx("span",{children:Q(u)})]}),e.jsx(T,{href:route("news.show",n),children:e.jsx("h3",{className:"text-xl font-bold text-primary hover:text-secondary mb-2 flex-grow line-clamp-2 h-14",children:o})}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:x}),e.jsx(T,{href:route("news.show",n),className:"text-secondary font-semibold hover:underline mt-auto",children:"Baca Selengkapnya â†’"})]})]})};function H({newsData:r,filters:t,settings:u}){console.log("ISI newsData:",r),console.log("ISI filters:",t);const[o,x]=a.useState(t.search||""),[n,d]="newest",[m]=O(o,300),s=a.useRef(!0);return a.useEffect(()=>{if(s.current){s.current=!1;return}const i={sort:n};m&&(i.search=m),L.get(route("news.index"),i,{preserveState:!0,replace:!0})},[m,n]),e.jsxs(K,{children:[e.jsx(W,{title:"Berita"}),e.jsx("section",{className:"pb-12 pt-40 bg-gray-50",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 text-center",children:[e.jsxs("div",{className:" mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary",children:"Berita & Informasi"}),e.jsx("p",{className:"text-base md:text-lg font-light mt-2 text-gray-600",children:"Kumpulan Informasi dan Kabar Terbaru dari Kami"})]}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:gap-4 gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Cari berita berdasarkan judul atau kategori...",value:o,onChange:i=>x(i.target.value),className:"w-full p-4 ps-6 text-md text-gray-900 border border-gray-300 rounded-full shadow-sm focus:ring-primary focus:border-primary"}),e.jsx("div",{className:"absolute inset-y-0 end-0 flex items-center pe-5",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})})]})})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:r&&r.data&&r.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:r.data.map(i=>e.jsx("div",{className:"w-full md:w-1/2 lg:w-96",children:e.jsx(U,{...i})},i.id))}),e.jsx("div",{className:"mt-12 flex justify-center",children:e.jsx(P,{links:r.links})})]}):e.jsxs("div",{className:"text-center py-16 col-span-full",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Tidak Ada Berita"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Saat ini belum ada berita yang dipublikasikan atau tidak ada yang cocok dengan pencarian Anda."})]})})})]})}export{H as default};
