import{r as h,x as V,j as e,Q as H,J as O}from"./app-DAe5oIA1.js";import{S as B}from"./Sidebar-DxJhfpBF.js";import{I as r}from"./InputError-D3vQ3m7x.js";import{I as m}from"./InputLabel-CSsrVVx8.js";import{P as R}from"./PrimaryButton-B5LKmmHB.js";import{T as d}from"./TextInput-wl1L8T5e.js";import{T as g}from"./TextArea-D4l5Sh61.js";function E(){const{flash:s}=O().props,[f,p]=h.useState(!!(s.success||s.error)),[i,t]=h.useState(100);return h.useEffect(()=>{let x,u;if(s.success||s.error){p(!0),t(100);let o=100;u=setInterval(()=>{o-=2,t(o),o<=0&&clearInterval(u)},60),x=setTimeout(()=>p(!1),3e3)}return()=>{clearTimeout(x),clearInterval(u)}},[s.success,s.error]),f?e.jsxs("div",{className:`fixed top-6 right-6 z-50 min-w-[260px] px-6 py-3 rounded shadow-lg text-white flex items-center gap-3 transition
            ${s.success?"bg-green-600":"bg-red-600"}`,children:[e.jsx("span",{className:"text-2xl",children:s.success?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"flex-1",children:s.success||s.error}),e.jsx("span",{className:"absolute left-0 bottom-0 h-1 rounded-b bg-white/60 transition-all",style:{width:`${i}%`}})]}):null}const K=()=>e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),N=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),k=()=>e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})});function G({settings:s}){const[f,p]=h.useState(!1),{data:i,setData:t,post:x,processing:u,errors:o}=V({organization_name:s.organization_name||"",cabinet_name:s.cabinet_name||"",period:s.period||"",logo_horizontal:null,logo_vertical:null,logo_full:null,cover_photo:null,headline:s.headline||"",tagline:s.tagline||"",definition:s.definition||"",video_profile_link:s.video_profile_link||"",vision:s.vision||"",mission:s.mission||[],name_philosophy:s.name_philosophy||"",logo_philosophy:s.logo_philosophy||[],address:s.address||"",email:s.email||"",phone:s.phone||"",contacts:s.contacts||[],google_maps_link:s.google_maps_link||""}),[y,L]=h.useState(s.logo_horizontal_path?`/storage/${s.logo_horizontal_path}`:null),[w,z]=h.useState(s.logo_vertical_path?`/storage/${s.logo_vertical_path}`:null),[C,I]=h.useState(s.logo_full_path?`/storage/${s.logo_full_path}`:null),[P,S]=h.useState(s.cover_photo_path?`/storage/${s.cover_photo_path}`:null),v=(l,a,n)=>{const c=l.target.files[0];t(a,c),c&&n(URL.createObjectURL(c))},j=(l,a)=>t(l,[...i[l],a]),b=(l,a)=>t(l,i[l].filter((n,c)=>c!==a)),T=(l,a,n)=>{const c=[...i[l]];c[a]=n,t(l,c)},F=(l,a,n)=>{const c=[...i.logo_philosophy];c[l][a]=n,t("logo_philosophy",c)},_=(l,a,n)=>{const c=[...i.contacts];c[l][a]=n,t("contacts",c)},M=l=>{l.preventDefault(),x(route("admin.organization.update"),{forceFormData:!0,preserveScroll:!0})};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(H,{title:"Pengaturan Organisasi"}),e.jsx(E,{}),e.jsx(B,{isOpen:f,setIsOpen:p}),e.jsxs("div",{className:"lg:ml-72",children:[e.jsxs("header",{className:"bg-white shadow-sm px-4 py-6 flex items-center justify-between sticky top-0 z-20",children:[e.jsx("button",{onClick:()=>p(!0),className:"lg:hidden text-gray-600",children:e.jsx(K,{})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Pengaturan Organisasi"})]}),e.jsx("main",{className:"p-6",children:e.jsxs("form",{onSubmit:M,className:"bg-white rounded-lg shadow p-6 space-y-8",children:[e.jsxs("div",{className:"space-y-6 p-6 border rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Informasi Umum"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"organization_name",value:"Nama Organisasi"}),e.jsx(d,{id:"organization_name",value:i.organization_name,onChange:l=>t("organization_name",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.organization_name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"cabinet_name",value:"Nama Kabinet"}),e.jsx(d,{id:"cabinet_name",value:i.cabinet_name,onChange:l=>t("cabinet_name",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.cabinet_name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"period",value:"Periode"}),e.jsx(d,{id:"period",value:i.period,onChange:l=>t("period",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.period,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"logo_horizontal",value:"Logo Horizontal"}),e.jsx("input",{id:"logo_horizontal",type:"file",onChange:l=>v(l,"logo_horizontal",L),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-primary hover:file:bg-blue-100"}),e.jsx(r,{message:o.logo_horizontal,className:"mt-2"}),y&&e.jsx("img",{src:y,alt:"Preview Logo Horizontal",className:"mt-4 h-24 w-full object-contain rounded-md border p-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"logo_vertical",value:"Logo Vertikal"}),e.jsx("input",{id:"logo_vertical",type:"file",onChange:l=>v(l,"logo_vertical",z),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-primary hover:file:bg-blue-100"}),e.jsx(r,{message:o.logo_vertical,className:"mt-2"}),w&&e.jsx("img",{src:w,alt:"Preview Logo Vertikal",className:"mt-4 h-24 w-full object-contain rounded-md border p-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"logo_full",value:"Logo Full"}),e.jsx("input",{id:"logo_full",type:"file",onChange:l=>v(l,"logo_full",I),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-primary hover:file:bg-blue-100"}),e.jsx(r,{message:o.logo_full,className:"mt-2"}),C&&e.jsx("img",{src:C,alt:"Preview Logo Full",className:"mt-4 h-24 w-full object-contain rounded-md border p-1"})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx(m,{htmlFor:"cover_photo",value:"Foto Sampul"}),e.jsx("input",{id:"cover_photo",type:"file",onChange:l=>v(l,"cover_photo",S),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-primary hover:file:bg-blue-100"}),e.jsx(r,{message:o.cover_photo,className:"mt-2"}),P&&e.jsx("img",{src:P,alt:"Preview Sampul",className:"mt-4 h-32 w-full object-cover rounded-md border p-1"})]})]}),e.jsxs("div",{className:"space-y-6 p-6 border rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Branding & Identitas"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"headline",value:"Headline"}),e.jsx(d,{id:"headline",value:i.headline,onChange:l=>t("headline",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.headline,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"tagline",value:"Tagline"}),e.jsx(d,{id:"tagline",value:i.tagline,onChange:l=>t("tagline",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.tagline,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"definition",value:"Definisi"}),e.jsx(g,{id:"definition",value:i.definition,onChange:l=>t("definition",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.definition,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"video_profile_link",value:"Link Video Profil (YouTube/Vimeo)"}),e.jsx(d,{id:"video_profile_link",type:"text",value:i.video_profile_link,onChange:l=>t("video_profile_link",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.video_profile_link,className:"mt-2"})]})]}),e.jsxs("div",{className:"space-y-6 p-6 border rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Visi & Misi"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"vision",value:"Visi"}),e.jsx(g,{id:"vision",value:i.vision,onChange:l=>t("vision",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.vision,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Misi"}),e.jsxs("div",{className:"space-y-3 mt-1",children:[i.mission.map((l,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{value:l,onChange:n=>T("mission",a,n.target.value),className:"block w-full"}),e.jsx("button",{type:"button",onClick:()=>b("mission",a),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:e.jsx(k,{})})]},a)),e.jsxs("button",{type:"button",onClick:()=>j("mission",""),className:"inline-flex items-center gap-1 text-sm font-medium text-primary hover:underline",children:[e.jsx(N,{})," Tambah Poin Misi"]})]}),e.jsx(r,{message:o.mission,className:"mt-2"})]})]}),e.jsxs("div",{className:"space-y-6 p-6 border rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filosofi"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name_philosophy",value:"Filosofi Nama"}),e.jsx(g,{id:"name_philosophy",value:i.name_philosophy,onChange:l=>t("name_philosophy",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.name_philosophy,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Filosofi Logo"}),e.jsxs("div",{className:"space-y-4 mt-1",children:[i.logo_philosophy.map((l,a)=>e.jsxs("div",{className:"p-4 border rounded-md space-y-3 relative",children:[e.jsx("button",{type:"button",onClick:()=>b("logo_philosophy",a),className:"absolute top-2 right-2 p-1 text-red-600 hover:bg-red-100 rounded-full",children:e.jsx(k,{})}),e.jsx(d,{placeholder:"Judul Poin (e.g., Bentuk Perisai)",value:l.title,onChange:n=>F(a,"title",n.target.value),className:"block w-full"}),e.jsx(g,{placeholder:"Penjelasan untuk poin ini...",value:l.description,onChange:n=>F(a,"description",n.target.value),className:"block w-full"})]},a)),e.jsxs("button",{type:"button",onClick:()=>j("logo_philosophy",{title:"",description:""}),className:"inline-flex items-center gap-1 text-sm font-medium text-primary hover:underline",children:[e.jsx(N,{})," Tambah Poin Filosofi"]})]}),e.jsx(r,{message:o.logo_philosophy,className:"mt-2"})]})]}),e.jsxs("div",{className:"space-y-6 p-6 border rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detail Kontak"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"address",value:"Alamat"}),e.jsx(g,{id:"address",value:i.address,onChange:l=>t("address",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.address,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"email",value:"Email Utama"}),e.jsx(d,{id:"email",type:"email",value:i.email,onChange:l=>t("email",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"phone",value:"Telepon Utama"}),e.jsx(d,{id:"phone",value:i.phone,onChange:l=>t("phone",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.phone,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"google_maps_link",value:"Link Google Maps (Embed URL)"}),e.jsx(d,{id:"google_maps_link",type:"url",value:i.google_maps_link,onChange:l=>t("google_maps_link",l.target.value),className:"mt-1 block w-full"}),e.jsx(r,{message:o.google_maps_link,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Kontak Tambahan"}),e.jsxs("div",{className:"space-y-4 mt-1",children:[i.contacts.map((l,a)=>e.jsxs("div",{className:"p-4 border rounded-md space-y-3 relative",children:[e.jsx("button",{type:"button",onClick:()=>b("contacts",a),className:"absolute top-2 right-2 p-1 text-red-600 hover:bg-red-100 rounded-full",children:e.jsx(k,{})}),e.jsx(d,{placeholder:"Keterangan (e.g., Ketua Himpunan)",value:l.title,onChange:n=>_(a,"title",n.target.value),className:"block w-full"}),e.jsx(d,{placeholder:"Nama Lengkap",value:l.name,onChange:n=>_(a,"name",n.target.value),className:"block w-full"}),e.jsx(d,{placeholder:"Nomor Telepon",value:l.phone_number,onChange:n=>_(a,"phone_number",n.target.value),className:"block w-full"})]},a)),e.jsxs("button",{type:"button",onClick:()=>j("contacts",{title:"",name:"",phone_number:""}),className:"inline-flex items-center gap-1 text-sm font-medium text-primary hover:underline",children:[e.jsx(N,{})," Tambah Kontak"]})]}),e.jsx(r,{message:o.contacts,className:"mt-2"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(R,{disabled:u,children:u?"Menyimpan...":"Simpan Pengaturan"})})]})})]})]})}export{G as default};
